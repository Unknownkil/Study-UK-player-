<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Web Player</title>
    <link href="https://vjs.zencdn.net/7.10.2/video-js.css" rel="stylesheet" />
    <script src="https://vjs.zencdn.net/7.10.2/video.js"></script>
</head>
<body>

    <video id="my-player" class="video-js" controls preload="auto" width="640" height="264">
    </video>

    <script>
        // Function to get query parameter value by name
        function getQueryParam(param) {
            var urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        // Base64 Decode function
        function base64Decode(str) {
            return decodeURIComponent(escape(atob(str)));
        }

        // Main function to play video
        function playHLS() {
            var encodedUrl = getQueryParam('url');
            if (encodedUrl) {
                var hlsUrl = base64Decode(encodedUrl);
                var player = videojs('my-player');
                player.src({
                    src: hlsUrl,
                    type: 'application/x-mpegURL'
                });
                player.play();
            } else {
                alert("No URL parameter found!");
            }
        }

        // Call the function on page load
        playHLS();
    </script>

</body>
</html>